<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.duckG.product.mapper.ProductMapper">

	<!-- 제품상세 -->
	<select id="productDetail" resultType="com.duckG.vo.ProductVO">
		select *
		from product
		where product_no = #{productNo}
	</select>


<!--  -->
    <select id="productList" resultType="com.duckG.vo.ProductVO">
        select *
        from product
    </select>

	<select id="selectProduct" resultType="com.duckG.vo.ProductVO">
		select *
		from product
		where product_name like '%'||#{keyword}||'%'
	</select>

<!-- 카테고리별 조회 -->
 	<select id="selectCategory" resultType="com.duckG.vo.ProductVO">
        select *
        from product
        where category_name = #{categoryName}
    </select>
    
<!-- page -->
    <select id="productTotal" resultType="int">
    	select count(1) 
    	from product
    </select>
    
    <select id="productListPaging" resultType="com.duckG.vo.ProductVO">
    	   select b.*
		from(select rownum rn, a.*
     		 from (select *
           		   from product
           		   order by product_no) a
             <![CDATA[
           	 where rownum <= (#{page} * 20))b
           	 ]]>
    	where b.rn > (#{page} - 1) * 20  
    </select>



</mapper>